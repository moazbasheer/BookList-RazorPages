@page
@model WebApplication1.Pages.BookList.IndexModel
@{
}

<div class="container row p-0 m-0">
    <div class="col-10">
        <h2 class="text-primary">BookList</h2>
    </div>
    <div class="col-2">
        <a asp-page="Create" class="btn btn-primary form-control" >Add new book</a>
    </div>
    <table class="table">
        <tr>
            <th>
                <label asp-for="Books.FirstOrDefault().Name"></label>
            </th>
            <th>
                <label asp-for="Books.FirstOrDefault().Author"></label>
            </th>
            <th>
                <label asp-for="Books.FirstOrDefault().ISBN"></label>
            </th>
            <th></th>
        </tr>
        @if (Model.Books.Count() > 0)
        {
            @foreach (var item in Model.Books)
            {
            <tr>
                <td>
                    @Html.DisplayFor(e => item.Name);
                </td>
                <td>
                    @Html.DisplayFor(e => item.Author);
                </td>
                <td>
                    @Html.DisplayFor(e => item.ISBN);
                </td>
                <td>
                    <form method="post" asp-page-handler="Delete" asp-route-id="@item.Id">
                        <input type="submit"  onclick="return confirm('Are you sure to delete?')"
                                class="btn btn-danger btn-sm text-white" value="Delete"/> 
                        <a asp-page="Edit" asp-route-id="@item.Id" class="btn btn-success btn-sm">Edit</a>
                    </form>
                </td>
            </tr>
            }
        } else
        {
            <tr><td> No data found! </td></tr>
        }

    </table>
</div>

<div class="col-12">
    <table class="table" id="DT_load">
        <tr>
            <th>Name</th>
            <th>Author</th>
            <th>ISBN</th>
            <th></th>
        </tr>
    </table>
</div>


@section Scripts {
<script src="~/js/bookList.js"></script>
}